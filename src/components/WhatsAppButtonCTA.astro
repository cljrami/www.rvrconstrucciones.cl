---
// Define el número de WhatsApp aquí o impórtalo desde un archivo de configuración
const whatsappNumber = "1234567890"; // Sustituye por tu número real
const message = encodeURIComponent(
  "Hola, estoy interesado en más información!"
);
const whatsappLink = `https://wa.me/${whatsappNumber}?text=${message}`;
---

<a
  href={whatsappLink}
  title="Contáctanos Por WhatsApp"
  aria-label="Nuestro WhatsApp"
  target="_blank"
  id="whatsapp-btn"
  class="fixed bottom-4 right-4 flex items-center justify-center bg-black backdrop-filter backdrop-blur bg-opacity-20 rounded-full shadow-lg p-2 cursor-pointer border-4 border-transparent transition-all duration-300 text-yellow-400 font-extrabold text-5xl animate-pulse"
  style=" "
>
  <div class="h-20 w-20 rounded-full flex items-center justify-center">
    <i class="fab fa-whatsapp"></i>
    <!-- Aquí estaba el SVG, ahora eliminado -->
  </div>
</a>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const whatsappBtn = document.getElementById("whatsapp-btn");

    // Asegurarse de que el botón existe antes de adjuntar el manejador de eventos
    if (whatsappBtn) {
      window.addEventListener("scroll", function () {
        // Verificar si el scroll es más de 500px
        if (window.scrollY > 500) {
          whatsappBtn.style.visibility = "visible";
          whatsappBtn.style.opacity = "1";
          whatsappBtn.style.transition = "opacity 0.5s ease-in-out";
        } else {
          whatsappBtn.style.opacity = "0";
          whatsappBtn.style.visibility = "hidden";
          whatsappBtn.style.transition =
            "opacity 0.5s ease-in-out, visibility 0s 0.5s"; // Retrasa la 'visibility' hasta que la opacidad termine
        }
      });
    } else {
      console.error("The WhatsApp button element was not found in the DOM.");
    }
  });
</script>
